% ******************************************************************************
% ****************************** Custom Margin *********************************

% Add `custommargin' in the document class options to use this section
% Set {innerside margin / outerside margin / topmargin / bottom margin}  and
% other page dimensions
\ifsetCustomMargin
\RequirePackage[left=37mm,right=30mm,top=35mm,bottom=30mm]{geometry}
\setFancyHdr % To apply fancy header after geometry package is loaded
\fi

% Add spaces between paragraphs
% \setlength{\parskip}{0.5em}
% Ragged bottom avoids extra whitespaces between paragraphs
\raggedbottom
% To remove the excess top spacing for enumeration, list and description
%\usepackage{enumitem}
%\setlist[enumerate,itemize,description]{topsep=0em}

% *****************************************************************************
% ******************* Fonts (like different typewriter fonts etc.)*************

% Add `customfont' in the document class option to use this section

\ifsetCustomFont
% Set your custom font here and use `customfont' in options. Leave empty to
% load computer modern font (default LaTeX font).
%\RequirePackage{helvet}

% For use with XeLaTeX
%  \setmainfont[
%    Path              = ./libertine/opentype/,
%    Extension         = .otf,
%    UprightFont = LinLibertine_R,
%    BoldFont = LinLibertine_RZ, % Linux Libertine O Regular Semibold
%    ItalicFont = LinLibertine_RI,
%    BoldItalicFont = LinLibertine_RZI, % Linux Libertine O Regular Semibold Italic
%  ]
%  {libertine}
%  % load font from system font
%  \newfontfamily\libertinesystemfont{Linux Libertine O}
\fi

% *****************************************************************************
% **************************** Custom Packages ********************************

% ************************* Algorithms and Pseudocode **************************

%\usepackage{algpseudocode}

% ********************Captions and Hyperreferencing / URL **********************

% Captions: This makes captions of figures use a boldfaced small font.
%\RequirePackage[small,bf]{caption}

\RequirePackage[labelsep=space,tableposition=top]{caption}
\renewcommand{\figurename}{Fig.} %to support older versions of captions.sty

% *************************** Graphics and figures *****************************

%\usepackage{rotating}
%\usepackage{wrapfig}

% Uncomment the following two lines to force Latex to place the figure.
% Use [H] when including graphics. Note 'H' instead of 'h'
%\usepackage{float}
%\restylefloat{figure}

% Subcaption package is also available in the sty folder you can use that by
% uncommenting the following line
% This is for people stuck with older versions of texlive
%\usepackage{sty/caption/subcaption}
\usepackage{subcaption}

% ********************************** Tables ************************************
\usepackage{booktabs} % For professional looking tables
\usepackage{multirow}

%\usepackage{multicol}
%\usepackage{longtable}
%\usepackage{tabularx}

% *********************************** SI Units *********************************
\usepackage{siunitx} % use this package module for SI units

% ******************************* Line Spacing *********************************

% Choose linespacing as appropriate. Default is one-half line spacing as per the
% University guidelines

% \doublespacing
% \onehalfspacing
% \singlespacing

% ************************ Formatting / Footnote *******************************

% Don't break enumeration (etc.) across pages in an ugly manner (default 10000)
%\clubpenalty=500
%\widowpenalty=500

%\usepackage[perpage]{footmisc} %Range of footnote options

% *****************************************************************************
% *************************** Bibliography  and References ********************

\usepackage{cleveref} %Referencing without need to explicitly state fig /table

% Add `custombib' in the document class option to use this section
\ifuseCustomBib
\RequirePackage[square, sort, numbers, authoryear]{natbib} % CustomBib

% If you would like to use biblatex for your reference management, as opposed to the default `natbibpackage` pass the option `custombib` in the document class. Comment out the previous line to make sure you don't load the natbib package. Uncomment the following lines and specify the location of references.bib file

%\RequirePackage[backend=biber, style=numeric-comp, citestyle=numeric, sorting=nty, natbib=true]{biblatex}
%\addbibresource{References/references} %Location of references.bib only for biblatex, Do not omit the .bib extension from the filename.

\fi

% changes the default name `Bibliography` -> `References'
\renewcommand{\bibname}{References}

% ******************************************************************************
% ************************* User Defined Commands ******************************
% ******************************************************************************

% *********** To change the name of Table of Contents / LOF and LOT ************

%\renewcommand{\contentsname}{My Table of Contents}
%\renewcommand{\listfigurename}{My List of Figures}
%\renewcommand{\listtablename}{My List of Tables}

% ********************** TOC depth and numbering depth *************************

\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}

% ******************************* Nomenclature *********************************

% To change the name of the Nomenclature section, uncomment the following line

%\renewcommand{\nomname}{Symbols}

% ********************************* Appendix ***********************************

% The default value of both \appendixtocname and \appendixpagename is `Appendices'. These names can all be changed via:

%\renewcommand{\appendixtocname}{List of appendices}
%\renewcommand{\appendixname}{Appndx}

% *********************** Configure Draft Mode **********************************

% Uncomment to disable figures in `draft'
%\setkeys{Gin}{draft=true}  % set draft to false to enable figures in `draft'

% These options are active only during the draft mode
% Default text is "Draft"
%\SetDraftText{DRAFT}

% Default Watermark location is top. Location (top/bottom)
%\SetDraftWMPosition{bottom}

% Draft Version - default is v1.0
%\SetDraftVersion{v1.1}

% Draft Text grayscale value (should be between 0-black and 1-white)
% Default value is 0.75
%\SetDraftGrayScale{0.8}

% ******************************** Todo Notes **********************************
%% Uncomment the following lines to have todonotes.

%\ifsetDraft
%  \usepackage[colorinlistoftodos]{todonotes}
%  \newcommand{\mynote}[1]{\todo[author=kks32,size=\small,inline,color=green!40]{#1}}
%\else
%  \newcommand{\mynote}[1]{}
%  \newcommand{\listoftodos}{}
%\fi

% Example todo: \mynote{Hey! I have a note}

% ******************************** Highlighting Changes **********************************
%% Uncomment the following lines to be able to highlight text/modifications.
%\ifsetDraft
%  \usepackage{color, soul}
%  \newcommand{\hlc}[2][yellow]{{\sethlcolor{#1} \hl{#2}}}
%  \newcommand{\hlfix}[2]{\texthl{#1}\todo{#2}}
%\else
%  \newcommand{\hlc}[2]{}
%  \newcommand{\hlfix}[2]{}
%\fi

% Example highlight 1: \hlc{Text to be highlighted}
% Example highlight 2: \hlc[green]{Text to be highlighted in green colour}
% Example highlight 3: \hlfix{Original Text}{Fixed Text}

% *****************************************************************************
% ******************* Better enumeration my MB*************
\usepackage{enumitem}

% JAMES YU CUSTOM BITS
\usepackage{microtype}
\usepackage{physics}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage[most]{tcolorbox}

\declaretheorem[name=Theorem]{theorem}
\declaretheorem[sibling=theorem, name=Proposition]{proposition}
\declaretheorem[sibling=theorem, name=Corollary]{corollary}
\declaretheorem[sibling=theorem, name=Lemma]{lemma}
\declaretheorem[sibling=theorem, name=Definition, style=definition]{definition}
\declaretheorem[sibling=theorem, name=Remark, style=remark]{remark}
\declaretheorem[sibling=theorem, name=Hypothesis, style=definition]{hypothesis}
\crefname{hypothesis}{hypothesis}{hypotheses}
\Crefname{hypothesis}{Hypothesis}{Hypotheses}

\renewcommand{\qedsymbol}{$\blacksquare$} % closed black square for proof environments
\newcommand*{\tran}{^{\mkern-1.5mu\mathsf{T}}}
\newcommand{\onorm}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert #1
\right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}
% \declaretheorem[sibling=theorem, name=Lemma]{lemma}
% \declaretheorem[sibling=theorem, name=Definition]{definition}

% \let\oldLemma\lemma
% \renewcommand{\lemma}{%
%   \crefalias{theorem}{lemma}% Theorem counter now looks like Lemma
% \oldLemma}

% \let\oldDefinition\definition
% \renewcommand{\definition}{%
%   \crefalias{theorem}{definition}% Theorem counter now looks like Lemma
% \oldDefinition}

\newtcolorbox{theorembox}{
  breakable,
  colback=AliceBlue,
  colframe=SteelBlue,      % A tasteful dark blue border
  boxrule=0.75pt,          % Border thickness
  sharp corners,
  before skip balanced=6pt,
  after skip balanced=6pt,
  before upper={\vspace*{-1em+4pt}},
  top=4pt,
  bottom=4pt,
  left=6pt,
  right=6pt,
  parbox=false,
}

\newtcolorbox{definitionbox}{
  breakable,
  colback=Honeydew,
  colframe=SeaGreen,           % A tasteful dark teal/cyan border
  boxrule=0.75pt,          % Border thickness
  sharp corners,
  before skip balanced=6pt,
  after skip balanced=6pt,
  before upper={\vspace*{-1em+4pt}},
  top=4pt,
  bottom=4pt,
  left=6pt,
  right=6pt,
  parbox=false,
}

\newtcolorbox{remarkbox}{
  breakable,
  colback=LavenderBlush,
  boxrule=0pt,             % No border for remarks
  opacityframe=0,
  sharp corners,
  before skip balanced=6pt,
  after skip balanced=6pt,
  before upper={\vspace*{-1em+4pt}},
  top=4pt,
  bottom=4pt,
  left=6pt,
  right=6pt,
  parbox=false,
}